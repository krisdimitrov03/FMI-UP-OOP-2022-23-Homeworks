SSO (Small String Optimization) в клас String се използва тогава, когато стрингът не надвишава 15 символа (16 с терминиращата нула '\0'). Това е така, защото имаме 2 режима - статичен и динамичен. 

Динамичният(heapBuff) съдържа 2 член-данни в себе си - указател към динамичен масив и дължината му -> общо 2*8 = 16 байта. Тъй като динамичният и статичният режим са в union, те споделят една и съща памет, т.е. статичният масив е с фиксирана дължина/капацитет от 16 байта. При работа със стринга във всеки метод се проверява дали той е в динамичен или в статичен режим. В зависимост от това се модифицират както следва:

-> динамичен - heapBuff.data и heapBuff.size
-> статичен - stackBuff

Променливата за капацитета е извън union-a и тя е начина, по който ние проверяваме текущият режим на нашият String:

-> capacity < 16 - статичен режим
-> capacity >= 16 - динамичен режим